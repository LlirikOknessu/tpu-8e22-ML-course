schema: '2.0'
stages:
  prepare_data:
    cmd: python src/prepare_data.py -ip data/raw/test_scores.csv -op data/prepared/prepared_data.csv
    deps:
    - path: data/raw/test_scores.csv
      hash: md5
      md5: dedbbc2822e89a304dc36cb350198b37
      size: 171367
    - path: src/prepare_data.py
      hash: md5
      md5: a0cbc6094878340044b154832ca75fb3
      size: 1754
    params:
      params.yaml:
        path.prepared_data: data/prepared/prepared_data.csv
        path.raw_data: data/raw/test_scores.csv
    outs:
    - path: data/prepared/prepared_data.csv
      hash: md5
      md5: 3b850faccee1754b4ae41cf05db7cf12
      size: 75773
  train_model:
    cmd: python src/train_model.py -idp data/prepared/prepared_data.csv -trfp data/prepared/train_features.csv
      -tefp data/prepared/test_features.csv -trtp data/prepared/train_target.csv -tetp
      data/prepared/test_target.csv -omp model/predictor.pickle -s 42 -ts 0.2
    deps:
    - path: data/prepared/prepared_data.csv
      hash: md5
      md5: 3b850faccee1754b4ae41cf05db7cf12
      size: 75773
    - path: src/train_model.py
      hash: md5
      md5: 09b9f0bc6405f36d63b9695980e9d490
      size: 1901
    params:
      params.yaml:
        path.output_model: model/predictor.pickle
        path.prepared_data: data/prepared/prepared_data.csv
        path.test_features: data/prepared/test_features.csv
        path.test_target: data/prepared/test_target.csv
        path.train_features: data/prepared/train_features.csv
        path.train_target: data/prepared/train_target.csv
        seed: 42
        split: 0.2
    outs:
    - path: model/predictor.pickle
      hash: md5
      md5: 497a27dfc8c4ee763db268f2807d6a18
      size: 704
  evaluate_model:
    cmd: python src/evaluate_model.py -tp data/prepared/test_target.csv -fp data/prepared/test_features.csv
      -mp model/predictor.pickle -op metrics.json
    deps:
    - path: data/prepared/test_features.csv
      hash: md5
      md5: 324a424c9e2523450ed4077f8355e0bb
      size: 13137
    - path: data/prepared/test_target.csv
      hash: md5
      md5: afcba19219240ba2afaf22d924fb5eaf
      size: 2394
    - path: data/prepared/train_features.csv
      hash: md5
      md5: 15520c770da4b8b5fe20fb161ef67355
      size: 52622
    - path: data/prepared/train_target.csv
      hash: md5
      md5: 20c47de9d054f731d6417d964f44313c
      size: 9537
    - path: model/predictor.pickle
      hash: md5
      md5: 497a27dfc8c4ee763db268f2807d6a18
      size: 704
    - path: src/evaluate_model.py
      hash: md5
      md5: c2ad52506abc4736c28a0ffa526ced22
      size: 1246
    params:
      params.yaml:
        path.metrics: metrics.json
        path.test_features: data/prepared/test_features.csv
        path.test_target: data/prepared/test_target.csv
        path.train_features: data/prepared/train_features.csv
        path.train_target: data/prepared/train_target.csv
    outs:
    - path: metrics.json
      hash: md5
      md5: f51d01f1001c318803461940f080621f
      size: 78
