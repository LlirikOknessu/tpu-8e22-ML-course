schema: '2.0'
stages:
  prepare_data:
    cmd: python src/prepare_data.py -ip data/raw/test_scores.csv -op data/prepared/prepared_data.csv
    deps:
    - path: data/raw/test_scores.csv
      hash: md5
      md5: 3d3a31f8b3dc42242665cf65b6b427e8
      size: 173352
    - path: src/prepare_data.py
      hash: md5
      md5: c5444b3aba684cd19ef581604e21ace9
      size: 1553
    params:
      params.yaml:
        path.prepared_data: data/prepared/prepared_data.csv
        path.raw_data: data/raw/test_scores.csv
    outs:
    - path: data/prepared/prepared_data.csv
      hash: md5
      md5: 45d8584fe398aa8f706b116b32cbb875
      size: 47708
  train_model:
    cmd: python src/train_model.py -idp data/prepared/prepared_data.csv -trfp data/prepared/train_features.csv
      -tefp data/prepared/test_features.csv -trtp data/prepared/train_target.csv -tetp
      data/prepared/test_target.csv -omp model/predictor.pickle -s 42 -ts 0.2
    deps:
    - path: data/prepared/prepared_data.csv
      hash: md5
      md5: 45d8584fe398aa8f706b116b32cbb875
      size: 47708
    - path: src/train_model.py
      hash: md5
      md5: 09b9f0bc6405f36d63b9695980e9d490
      size: 1901
    params:
      params.yaml:
        path.output_model: model/predictor.pickle
        path.prepared_data: data/prepared/prepared_data.csv
        path.test_features: data/prepared/test_features.csv
        path.test_target: data/prepared/test_target.csv
        path.train_features: data/prepared/train_features.csv
        path.train_target: data/prepared/train_target.csv
        seed: 42
        split: 0.2
    outs:
    - path: model/predictor.pickle
      hash: md5
      md5: 5ec1568eba85ec3f8eca598ed36ba586
      size: 673
  evaluate_model:
    cmd: python src/evaluate_model.py -tp data/prepared/test_target.csv -fp data/prepared/test_features.csv
      -mp model/predictor.pickle -op metrics.json
    deps:
    - path: data/prepared/test_features.csv
      hash: md5
      md5: 0ebcbf6f7f95743433731634d1df7c4c
      size: 7619
    - path: data/prepared/test_target.csv
      hash: md5
      md5: afcba19219240ba2afaf22d924fb5eaf
      size: 2394
    - path: data/prepared/train_features.csv
      hash: md5
      md5: 45a90033432bd68f2ad81811c3665e15
      size: 30229
    - path: data/prepared/train_target.csv
      hash: md5
      md5: 20c47de9d054f731d6417d964f44313c
      size: 9537
    - path: src/evaluate_model.py
      hash: md5
      md5: c2ad52506abc4736c28a0ffa526ced22
      size: 1246
    params:
      params.yaml:
        path.metrics: metrics.json
        path.test_features: data/prepared/test_features.csv
        path.test_target: data/prepared/test_target.csv
        path.train_features: data/prepared/train_features.csv
        path.train_target: data/prepared/train_target.csv
    outs:
    - path: metrics.json
      hash: md5
      md5: 38386e4e115c60e95755cf2a50d2cd3c
      size: 79
